<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Caution • drake</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">drake</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/drake.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/faq.html">FAQ</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/example-packages.html">Example: R package download trends</a>
    </li>
    <li>
      <a href="../articles/example-gsp.html">Example: gross state products</a>
    </li>
    <li>
      <a href="../articles/example-basic.html">Basic example</a>
    </li>
    <li>
      <a href="../articles/best-practices.html">General best practices for drake projects</a>
    </li>
    <li>
      <a href="../articles/debug.html">Debugging and testing drake projects</a>
    </li>
    <li>
      <a href="../articles/graph.html">Graphs with drake</a>
    </li>
    <li>
      <a href="../articles/parallelism.html">Parallel computing</a>
    </li>
    <li>
      <a href="../articles/timing.html">Time logging</a>
    </li>
    <li>
      <a href="../articles/storage.html">Storage</a>
    </li>
    <li>
      <a href="../articles/caution.html">Caution</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/drake">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Caution</h1>
            <h3 class="subtitle">Cautionary notes for drake</h3>
                        <h4 class="author">Will Landau</h4>
            
            <h4 class="date">2018-02-24</h4>
          </div>

    
    
<div class="contents">
<p>This vignette addresses <code>drake</code>’s known edge cases, pitfalls, and weaknesses that might not be fixed in future releases. For the most up-to-date information on unhandled edge cases, please visit the <a href="https://github.com/ropensci/drake/issues">issue tracker</a>, where you can submit your own bug reports as well. Be sure to search the closed issues too, especially if you are not using the most up-to-date development version of <code>drake</code>. For a guide to debugging and testing <code>drake</code> projects, please refer to the separate <a href="https://github.com/ropensci/drake/blob/master/vignettes/debug.Rmd">“debug” vignette</a>.</p>
<div id="projects-built-with-drake-4-4-0-are-not-back-compatible-with-drake-4-4-0-" class="section level1">
<h1 class="hasAnchor">
<a href="#projects-built-with-drake-4-4-0-are-not-back-compatible-with-drake-4-4-0-" class="anchor"></a>Projects built with drake &lt;= 4.4.0 are not back compatible with drake &gt; 4.4.0.</h1>
<p>Versions of <code>drake</code> after 4.4.0 have different caching internals. That means if you built your project with <code>drake</code> 4.4.0 or earlier, later versions of <code>drake</code> will not let you call <code><a href="../reference/make.html">make()</a></code>, which could mangle your work. To migrate your project to a later <code>drake</code>, you have three options.</p>
<ol style="list-style-type: decimal">
<li>Revert to a back-compatible version of drake with <code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_version">devtools::install_version("drake", "4.4.0")</a></code>. Here, the <a href="https://github.com/hadley/devtools">devtools package</a> must be installed (<code>install.packages("devtools")</code>).</li>
<li>Run your project from scratch with <code><a href="../reference/make.html">make(..., force = TRUE)</a></code>.</li>
<li>Use <code><a href="../reference/migrate_drake_project.html">migrate_drake_project()</a></code> to convert your project to the new format. The <code><a href="../reference/migrate_drake_project.html">migrate_drake_project()</a></code> function
<ol style="list-style-type: decimal">
<li>copies your old project to a backup folder.</li>
<li>converts your project’s cache to a format compatible with <code>drake</code> 5.0.0 and later.</li>
<li>informs you whether the migration succeeded: that is, whether outdated targets remained outdated and up-to-date targets remain up to date after migration.</li>
</ol>
</li>
</ol>
</div>
<div id="workflow-plans" class="section level1">
<h1 class="hasAnchor">
<a href="#workflow-plans" class="anchor"></a>Workflow plans</h1>
<div id="externalizing-commands-in-r-script-files" class="section level2">
<h2 class="hasAnchor">
<a href="#externalizing-commands-in-r-script-files" class="anchor"></a>Externalizing commands in R script files</h2>
<p>It is common practice to divide the work of a project into multiple R files, but if you do this, you will not get the most out of <code>drake</code>. Please see the <a href="https://github.com/ropensci/drake/blob/master/vignettes/best-practices.Rmd">best practices vignette</a> for more details.</p>
</div>
<div id="commands-are-not-perfectly-flexible-" class="section level2">
<h2 class="hasAnchor">
<a href="#commands-are-not-perfectly-flexible-" class="anchor"></a>Commands are NOT perfectly flexible.</h2>
<p>In your workflow plan data frame (produced by <code><a href="../reference/drake_plan.html">drake_plan()</a></code> and accepted by <code><a href="../reference/make.html">make()</a></code>), your commands can usually be flexible R expressions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/drake_plan.html">drake_plan</a></span>(
  <span class="dt">target1 =</span> <span class="dv">1</span> +<span class="st"> </span><span class="dv">1</span> -<span class="st"> </span><span class="kw">sqrt</span>(<span class="kw">sqrt</span>(<span class="dv">3</span>)),
  <span class="dt">target2 =</span> <span class="kw">my_function</span>(web_scraped_data) %&gt;%<span class="st"> </span>my_tidy
)
## # A tibble: 2 x 2
##   target  command                                  
##   &lt;chr&gt;   &lt;chr&gt;                                    
## 1 target1 1 + 1 - sqrt(sqrt(3))                    
## 2 target2 my_function(web_scraped_data) %&gt;% my_tidy</code></pre></div>
<p>However, please try to avoid formulas and function definitions in your commands. You may be able to get away with <code><a href="../reference/drake_plan.html">drake_plan(f = function(x){x + 1})</a></code> or <code><a href="../reference/drake_plan.html">drake_plan(f = y ~ x)</a></code> in some use cases, but be careful. It is generally to define functions and formulas in your workspace and then let <code><a href="../reference/make.html">make()</a></code> import them. (Alternatively, use the <code>envir</code> argument to <code><a href="../reference/make.html">make()</a></code> to tightly control which imported functions are available.) Use the <code><a href="../reference/check_plan.html">check_plan()</a></code> function to help screen and quality-control your workflow plan data frame, use <code><a href="../reference/tracked.html">tracked()</a></code> to see the items that are reproducibly tracked, and use <code><a href="../reference/vis_drake_graph.html">vis_drake_graph()</a></code> and <code><a href="../reference/build_drake_graph.html">build_drake_graph()</a></code> to see the dependency structure of your project.</p>
</div>
</div>
<div id="execution" class="section level1">
<h1 class="hasAnchor">
<a href="#execution" class="anchor"></a>Execution</h1>
<div id="install-drake-properly-" class="section level2">
<h2 class="hasAnchor">
<a href="#install-drake-properly-" class="anchor"></a>Install <code>drake</code> properly.</h2>
<p>You must properly install <code>drake</code> using <code>install.packages()</code>, <code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">devtools::install_github()</a></code>, or a similar approach. Functions like <code><a href="http://www.rdocumentation.org/packages/devtools/topics/load_all">devtools::load_all()</a></code> are insufficient, particularly for parallel computing functionality in which separate new R sessions try to <code>require(drake)</code>.</p>
</div>
<div id="install-all-your-packages-" class="section level2">
<h2 class="hasAnchor">
<a href="#install-all-your-packages-" class="anchor"></a>Install all your packages.</h2>
<p>Your workflow may depend on external packages such as <a href="https://CRAN.R-project.org/package=ggplot2">ggplot2</a>, <a href="https://CRAN.R-project.org/package=dplyr">dplyr</a>, and <a href="https://CRAN.R-project.org/package=MASS">MASS</a>. Such packages must be formally installed with <code>install.packages()</code>, <code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">devtools::install_github()</a></code>, <code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_local">devtools::install_local()</a></code>, or a similar command. If you load uninstalled packages with <code><a href="http://www.rdocumentation.org/packages/devtools/topics/load_all">devtools::load_all()</a></code>, results may be unpredictable and incorrect.</p>
</div>
<div id="a-note-on-tidy-evaluation" class="section level2">
<h2 class="hasAnchor">
<a href="#a-note-on-tidy-evaluation" class="anchor"></a>A note on tidy evaluation</h2>
<p>Running commands in your R console is not always exactly like running them with <code><a href="../reference/make.html">make()</a></code>. That’s because <code><a href="../reference/make.html">make()</a></code> uses tidy evaluation as implemented in the <a href="https://github.com/tidyverse/rlang"><code>rlang</code> package</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># This workflow plan uses rlang's quasiquotation operator `!!`.</span>
my_plan &lt;-<span class="st"> </span><span class="kw"><a href="../reference/drake_plan.html">drake_plan</a></span>(<span class="dt">list =</span> <span class="kw">c</span>(
  <span class="dt">little_b =</span> <span class="st">"</span><span class="ch">\"</span><span class="st">b</span><span class="ch">\"</span><span class="st">"</span>,
  <span class="dt">letter =</span> <span class="st">"!!little_b"</span>
))
my_plan
## # A tibble: 2 x 2
##   target   command   
##   &lt;chr&gt;    &lt;chr&gt;     
## 1 little_b "\"b\""   
## 2 letter   !!little_b
<span class="kw"><a href="../reference/make.html">make</a></span>(my_plan)
## cache /tmp/RtmpYWCOpZ/articles/.drake
## connect 1 import: my_plan
## connect 2 targets: little_b, letter
## Loading required package: methods
## check 1 item: little_b
## target little_b
## check 1 item: letter
## target letter
<span class="kw"><a href="../reference/readd.html">readd</a></span>(letter)
## cache /tmp/RtmpYWCOpZ/articles/.drake
## [1] "b"</code></pre></div>
<p>For the commands you specify the free-form <code>...</code> argument, <code><a href="../reference/drake_plan.html">drake_plan()</a></code> also supports tidy evaluation. For example, it supports quasiquotation with the <code>!!</code> argument. Use <code>tidy_evaluation = FALSE</code> or the <code>list</code> argument to suppress this behavior.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_variable &lt;-<span class="st"> </span><span class="dv">5</span>

<span class="kw"><a href="../reference/drake_plan.html">drake_plan</a></span>(
  <span class="dt">a =</span> !!my_variable,
  <span class="dt">b =</span> !!my_variable +<span class="st"> </span><span class="dv">1</span>,
  <span class="dt">list =</span> <span class="kw">c</span>(<span class="dt">d =</span> <span class="st">"!!my_variable"</span>)
)
## # A tibble: 3 x 2
##   target command      
##   &lt;chr&gt;  &lt;chr&gt;        
## 1 a      5            
## 2 b      5 + 1        
## 3 d      !!my_variable

<span class="kw"><a href="../reference/drake_plan.html">drake_plan</a></span>(
  <span class="dt">a =</span> !!my_variable,
  <span class="dt">b =</span> !!my_variable +<span class="st"> </span><span class="dv">1</span>,
  <span class="dt">list =</span> <span class="kw">c</span>(<span class="dt">d =</span> <span class="st">"!!my_variable"</span>),
  <span class="dt">tidy_evaluation =</span> <span class="ot">FALSE</span>
)
## # A tibble: 3 x 2
##   target command            
##   &lt;chr&gt;  &lt;chr&gt;              
## 1 a      !(!my_variable)    
## 2 b      !(!my_variable + 1)
## 3 d      !!my_variable</code></pre></div>
<p>For instances of <code>!!</code> that remain in the workflow plan, <code><a href="../reference/make.html">make()</a></code> will run these commands in tidy fashion, evaluating the <code>!!</code> operator using the environment you provided.</p>
</div>
<div id="find-and-diagnose-your-errors-" class="section level2">
<h2 class="hasAnchor">
<a href="#find-and-diagnose-your-errors-" class="anchor"></a>Find and diagnose your errors.</h2>
<p>When <code><a href="../reference/make.html">make()</a></code> fails, use <code><a href="../reference/failed.html">failed()</a></code> and <code><a href="../reference/diagnose.html">diagnose()</a></code> to debug. Try the following out yourself.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Targets with available diagnostic metadata, incluing errors, warnings, etc.</span>
<span class="kw"><a href="../reference/diagnose.html">diagnose</a></span>()
## cache /tmp/RtmpYWCOpZ/articles/.drake
## [1] "letter"   "little_b"

f &lt;-<span class="st"> </span>function(){
  <span class="kw">stop</span>(<span class="st">"unusual error"</span>)
}

bad_plan &lt;-<span class="st"> </span><span class="kw"><a href="../reference/drake_plan.html">drake_plan</a></span>(<span class="dt">target =</span> <span class="kw">f</span>())

withr::<span class="kw">with_message_sink</span>(
  <span class="kw">stdout</span>(),
  <span class="kw"><a href="../reference/make.html">make</a></span>(bad_plan)
)
## cache /tmp/RtmpYWCOpZ/articles/.drake
## connect 6 imports: my_variable, letter, f, little_b, my_plan, bad_plan
## connect 1 target: target
## check 1 item: stop
## check 1 item: f
## check 1 item: target
## target target
## fail target
## Error: Target 'target' failed. Use diagnose(target) for details.
## Warning: No message sink to remove.

<span class="kw"><a href="../reference/failed.html">failed</a></span>() <span class="co"># From the last make() only</span>
## cache /tmp/RtmpYWCOpZ/articles/.drake
## [1] "target"

error &lt;-<span class="st"> </span><span class="kw"><a href="../reference/diagnose.html">diagnose</a></span>(target)$error <span class="co"># See also warnings and messages.</span>
## cache /tmp/RtmpYWCOpZ/articles/.drake

error$message
## [1] "unusual error"

error$call
## f()

error$calls <span class="co"># View the traceback.</span>
## [[1]]
## local({
##     f()
## })
## 
## [[2]]
## eval.parent(substitute(eval(quote(expr), envir)))
## 
## [[3]]
## eval(expr, p)
## 
## [[4]]
## eval(expr, p)
## 
## [[5]]
## eval(quote({
##     f()
## }), new.env())
## 
## [[6]]
## eval(quote({
##     f()
## }), new.env())
## 
## [[7]]
## f()
## 
## [[8]]
## stop("unusual error")</code></pre></div>
</div>
<div id="your-workspace-is-modified-by-default-" class="section level2">
<h2 class="hasAnchor">
<a href="#your-workspace-is-modified-by-default-" class="anchor"></a>Your workspace is modified by default.</h2>
<p>As of version 3.0.0, drake’s execution environment is the user’s workspace by default. As an upshot, the workspace is vulnerable to side-effects of <code><a href="../reference/make.html">make()</a></code> (which are generally limited to loading and unloading targets). To protect your workspace, you may want to create a custom evaluation environment containing all your imported objects and then pass it to the <code>envir</code> argument of <code><a href="../reference/make.html">make()</a></code>. Here is how.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(drake)
<span class="kw"><a href="../reference/clean.html">clean</a></span>(<span class="dt">verbose =</span> <span class="ot">FALSE</span>)
envir &lt;-<span class="st"> </span><span class="kw">new.env</span>(<span class="dt">parent =</span> <span class="kw">globalenv</span>())
<span class="kw">eval</span>(
  <span class="kw">expression</span>({
    f &lt;-<span class="st"> </span>function(x){
      <span class="kw">g</span>(x) +<span class="st"> </span><span class="dv">1</span>
    }
    g &lt;-<span class="st"> </span>function(x){
      x +<span class="st"> </span><span class="dv">1</span>
    }
  }
  ),
  <span class="dt">envir =</span> envir
)
myplan &lt;-<span class="st"> </span><span class="kw"><a href="../reference/drake_plan.html">drake_plan</a></span>(<span class="dt">out =</span> <span class="kw">f</span>(<span class="dv">1</span>:<span class="dv">3</span>))

<span class="kw"><a href="../reference/make.html">make</a></span>(myplan, <span class="dt">envir =</span> envir)
## cache /tmp/RtmpYWCOpZ/articles/.drake
## connect 2 imports: f, g
## connect 1 target: out
## check 1 item: g
## check 1 item: f
## check 1 item: out
## target out

<span class="kw">ls</span>() <span class="co"># Check that your workspace did not change.</span>
## [1] "bad_plan"    "envir"       "error"       "f"           "letter"     
## [6] "little_b"    "myplan"      "my_plan"     "my_variable"

<span class="kw">ls</span>(envir) <span class="co"># Check your evaluation environment.</span>
## [1] "f"   "g"   "out"

envir$out
## [1] 3 4 5

<span class="kw"><a href="../reference/readd.html">readd</a></span>(out)
## cache /tmp/RtmpYWCOpZ/articles/.drake
## [1] 3 4 5</code></pre></div>
</div>
<div id="refresh-the-drake_config-list-early-and-often-" class="section level2">
<h2 class="hasAnchor">
<a href="#refresh-the-drake_config-list-early-and-often-" class="anchor"></a>Refresh the <code><a href="../reference/drake_config.html">drake_config()</a></code> list early and often.</h2>
<p>The master configuration list returned by <code><a href="../reference/drake_config.html">drake_config()</a></code> is important to <code>drake</code>’s internals, and you will need it for functions like <code><a href="../reference/outdated.html">outdated()</a></code> and <code><a href="../reference/vis_drake_graph.html">vis_drake_graph()</a></code>. The config list corresponds to a single call to <code><a href="../reference/make.html">make()</a></code>, and you should not modify it by hand afterwards. For example, modifying the <code>targets</code> element post-hoc will have no effect because the <code>graph</code> element will remain the same. It is best to just call <code><a href="../reference/drake_config.html">drake_config()</a></code> again.</p>
</div>
<div id="workflows-as-r-packages-" class="section level2">
<h2 class="hasAnchor">
<a href="#workflows-as-r-packages-" class="anchor"></a>Workflows as R packages.</h2>
<p>The R package structure is a great way to organize the files of your project. Writing your own package to contain your data science workflow is a good idea, but you will need to use <code><a href="../reference/expose_imports.html">expose_imports()</a></code> to run it properly with <code>drake</code>. See the <a href="https://github.com/ropensci/drake/blob/master/vignettes/best-practices.Rmd">best practices vignette</a> and <code><a href="../reference/expose_imports.html">?expose_imports</a></code> for detailed explanations. Thanks to <a href="https://github.com/dapperjapper">Jasper Clarkberg</a> for the workaround.</p>
</div>
<div id="the-lazy_load-flag-does-not-work-with-parlapply-parallelism-" class="section level2">
<h2 class="hasAnchor">
<a href="#the-lazy_load-flag-does-not-work-with-parlapply-parallelism-" class="anchor"></a>The <code>lazy_load</code> flag does not work with <code>"parLapply"</code> parallelism.</h2>
<p>Ordinarily, <code>drake</code> prunes the execution environment at every parallelizable stage. In other words, it loads all the dependencies and unloads anything superfluous for entire batches of targets. This approach may require too much memory for some use cases, so there is an option to delay the loading of dependencies using the <code>lazy_load</code> argument to <code><a href="../reference/make.html">make()</a></code> (powered by <code>delayedAssign()</code>). There are two major risks.</p>
<ol style="list-style-type: decimal">
<li>
<p><code><a href="../reference/make.html">make(..., lazy_load = TRUE, parallelism = "parLapply", jobs = 2)</a></code> does not work. If you want to use local multisession parallelism with multiple jobs and lazy loading, try <code>"future_lapply"</code> parallelism instead.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(future)
future::<span class="kw"><a href="../reference/plan.html">plan</a></span>(multisession)
<span class="kw"><a href="../reference/load_basic_example.html">load_basic_example</a></span>() <span class="co"># Get the code with drake_example("basic").</span>
<span class="kw"><a href="../reference/make.html">make</a></span>(my_plan, <span class="dt">lazy_load =</span> <span class="ot">TRUE</span>, <span class="dt">parallelism =</span> <span class="st">"future_lapply"</span>)</code></pre></div>
</li>
<li><p>Delayed evaluation may cause the same dependencies to be loaded multiple times, and these duplicated loads could be slow.</p></li>
</ol>
</div>
<div id="timeouts-may-be-unreliable-" class="section level2">
<h2 class="hasAnchor">
<a href="#timeouts-may-be-unreliable-" class="anchor"></a>Timeouts may be unreliable.</h2>
<p>You can call <code><a href="../reference/make.html">make(..., timeout = 10)</a></code> to time out all each target after 10 seconds. However, timeouts rely on <a href="https://github.com/HenrikBengtsson/R.utils/issues/74">R.utils::withTimeout()</a>, which in turn relies on <code>setTimeLimit()</code>. These functions are the best that R can offer right now, but they have <a href="https://github.com/HenrikBengtsson/R.utils/issues/74">known issues</a>, and timeouts may fail to take effect for certain environments.</p>
</div>
</div>
<div id="dependencies" class="section level1">
<h1 class="hasAnchor">
<a href="#dependencies" class="anchor"></a>Dependencies</h1>
<div id="triggers-and-skipped-imports" class="section level2">
<h2 class="hasAnchor">
<a href="#triggers-and-skipped-imports" class="anchor"></a>Triggers and skipped imports</h2>
<p>With alternate <a href="https://github.com/ropensci/drake/blob/master/vignettes/debug.Rmd#test-with-triggers">triggers</a> and the <a href="https://github.com/ropensci/drake/blob/master/vignettes/debug.Rmd#skipping-imports">option to skip imports</a>, you can sacrifice reproducibility to gain speed. However, these options can throw the dependency network out of sync. You should only use them for testing and debugging.</p>
</div>
<div id="dependencies-are-not-tracked-in-some-edge-cases-" class="section level2">
<h2 class="hasAnchor">
<a href="#dependencies-are-not-tracked-in-some-edge-cases-" class="anchor"></a>Dependencies are not tracked in some edge cases.</h2>
<p>You should explicitly learn the items in your workflow and the dependencies of your targets.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><a href="../reference/deps.html">?deps
?tracked
?vis_drake_graph</a></code></pre></div>
<p><code>Drake</code> can be fooled into skipping objects that should be treated as dependencies. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f &lt;-<span class="st"> </span>function(){
  b &lt;-<span class="st"> </span><span class="kw">get</span>(<span class="st">"x"</span>, <span class="dt">envir =</span> <span class="kw">globalenv</span>()) <span class="co"># x is incorrectly ignored</span>
  digest::<span class="kw">digest</span>(file_dependency)
}

<span class="kw"><a href="../reference/deps.html">deps</a></span>(f)
## [1] "digest::digest"  "file_dependency" "get"             "globalenv"

command &lt;-<span class="st"> "x &lt;- digest::digest(file_in(</span><span class="ch">\"</span><span class="st">input_file.rds</span><span class="ch">\"</span><span class="st">)); assign(</span><span class="ch">\"</span><span class="st">x</span><span class="ch">\"</span><span class="st">, 1); x"</span>
<span class="kw"><a href="../reference/deps.html">deps</a></span>(command)
## [1] "assign"             "digest::digest"     "\"input_file.rds\""</code></pre></div>
<p><code>Drake</code> takes special precautions so that a target/import does not depend on itself. For example, <code><a href="../reference/deps.html">deps(f)</a></code> might return <code>"f"</code> if <code>f()</code> is a recursive function, but <code><a href="../reference/make.html">make()</a></code> just ignores this conflict and runs as expected. In other words, <code><a href="../reference/make.html">make()</a></code> automatically removes all self-referential loops in the dependency network.</p>
</div>
<div id="dependencies-of-knitr-reports" class="section level2">
<h2 class="hasAnchor">
<a href="#dependencies-of-knitr-reports" class="anchor"></a>Dependencies of <code>knitr</code> reports</h2>
<p>If you have <code>knitr</code> reports, you can use <code>knitr_report()</code> in your commands so that your reports are refreshed every time one of their dependencies changes. See <code><a href="../reference/drake_example.html">drake_example("basic")</a></code> and the <code>?knitr_in()</code> help file examples for demonstrations. Dependencies are detected if you call <code><a href="../reference/loadd.html">loadd()</a></code> or <code><a href="../reference/readd.html">readd()</a></code> in your code chunks. But beware: an empty call to <code><a href="../reference/loadd.html">loadd()</a></code> does not account for any dependencies even though it loads all the available targets into your R session.</p>
</div>
<div id="knitr-inputs-and-file-outputs-in-imported-functions-" class="section level2">
<h2 class="hasAnchor">
<a href="#knitr-inputs-and-file-outputs-in-imported-functions-" class="anchor"></a>Knitr inputs and file outputs in imported functions.</h2>
<p>Similarly, <code><a href="../reference/file_out.html">file_out()</a></code> in a command tells <code>drake</code> that the result of a command is an output file. Clearly, this is inapproariate for imported functions, but <code>drake</code> will look anyway. Do not try to use <code><a href="../reference/file_out.html">file_out()</a></code> or <code><a href="../reference/knitr_in.html">knitr_in()</a></code> inside your custom imported functions. <code>Drake</code> only pays attention to them in proper commands in your workflow plan data frame. However, <code><a href="../reference/file_in.html">file_in()</a></code> is perfectly fine if your imported function needs a file in order to run. Here are some examples.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># toally_fine() will depend on the imported data.csv file.</span>
<span class="co"># But make sure data.csv is an imported file and not a file target.</span>
totally_okay &lt;-<span class="st"> </span>function(x, y, z){
  <span class="kw">read.csv</span>(<span class="kw"><a href="../reference/file_in.html">file_in</a></span>(<span class="st">"data.csv"</span>))
}

<span class="co"># file_out() is for file targets, so `drake` will ignore it.</span>
avoid_this &lt;-<span class="st"> </span>function(x, y, z){
  <span class="kw">read.csv</span>(<span class="kw"><a href="../reference/file_out.html">file_out</a></span>(<span class="st">"data.csv"</span>))
}

<span class="co"># knitr_in() is for knitr files with dependencies</span>
<span class="co"># in their active code chunks (explicitly referenced with loadd() and readd().</span>
<span class="co"># Drake just treats knitr_in() as an ordinary file input in this case.</span>
<span class="co"># You should really be using file_in() instead.</span>
avoid_this &lt;-<span class="st"> </span>function(x, y, z){
  <span class="kw">read.csv</span>(<span class="kw"><a href="../reference/knitr_in.html">knitr_in</a></span>(<span class="st">"report.Rmd"</span>))
}</code></pre></div>
</div>
<div id="functions-produced-by-vectorize" class="section level2">
<h2 class="hasAnchor">
<a href="#functions-produced-by-vectorize" class="anchor"></a>Functions produced by <code>Vectorize()</code>
</h2>
<p>With functions produced by <code>Vectorize()</code>, detecting dependencies is especially hard because the body of every such function is</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">lapply</span>(<span class="kw">as.list</span>(<span class="kw">match.call</span>())[-1L], eval, <span class="kw">parent.frame</span>())
names &lt;-<span class="st"> </span>if (<span class="kw">is.null</span>(<span class="kw">names</span>(args)))
    <span class="kw">character</span>(<span class="kw">length</span>(args)) else <span class="kw">names</span>(args)
dovec &lt;-<span class="st"> </span>names %in%<span class="st"> </span>vectorize.args
<span class="kw">do.call</span>(<span class="st">"mapply"</span>, <span class="kw">c</span>(<span class="dt">FUN =</span> FUN, args[dovec], <span class="dt">MoreArgs =</span> <span class="kw">list</span>(args[!dovec]),
    <span class="dt">SIMPLIFY =</span> SIMPLIFY, <span class="dt">USE.NAMES =</span> USE.NAMES))</code></pre></div>
<p>Thus, if <code>f</code> is constructed with <code>Vectorize(g, ...)</code>, <code>drake</code> searches <code>g()</code> for dependencies, not <code>f()</code>. In fact, if <code>drake</code> sees that <code>environment(f)[["FUN"]]</code> exists and is a function, then <code>environment(f)[["FUN"]]</code> will be analyzed instead of <code>f()</code>. Furthermore, if <code>f()</code> is the output of <code>Vectorize()</code>, then <code>drake</code> reproducibly tracks <code>environment(f)[["FUN"]]</code> rather than <code>f()</code> itself. Thus, if the configuration settings of vectorization change (such as which arguments are vectorized), but the core element-wise functionality remains the same, then <code><a href="../reference/make.html">make()</a></code> will not react. Also, if you hover over the <code>f</code> node in <code><a href="../reference/vis_drake_graph.html">vis_drake_graph(hover = TRUE)</a></code>, then you will see the body of <code>environment(f)[["FUN"]]</code>, not the body of <code>f()</code>.</p>
</div>
<div id="compiled-code-is-not-reproducibly-tracked-" class="section level2">
<h2 class="hasAnchor">
<a href="#compiled-code-is-not-reproducibly-tracked-" class="anchor"></a>Compiled code is not reproducibly tracked.</h2>
<p>Some R functions use <code>.Call()</code> to run compiled code in the backend. The R code in these functions is tracked, but not the compiled object called with <code>.Call()</code>, nor its C/C++/Fortran source.</p>
</div>
<div id="directories-folders-are-not-reproducibly-tracked-" class="section level2">
<h2 class="hasAnchor">
<a href="#directories-folders-are-not-reproducibly-tracked-" class="anchor"></a>Directories (folders) are not reproducibly tracked.</h2>
<p>In your workflow plan, you can use <code><a href="../reference/file_in.html">file_in()</a></code>, <code><a href="../reference/file_out.html">file_out()</a></code>, and <code><a href="../reference/knitr_in.html">knitr_in()</a></code> to assert that some targets/imports are external files. However, entire directories (i.e. folders) cannot be reproducibly tracked this way. Please see <a href="https://github.com/ropensci/drake/issues/12">issue 12</a> for a discussion.</p>
</div>
<div id="packages-are-not-tracked-as-dependencies-" class="section level2">
<h2 class="hasAnchor">
<a href="#packages-are-not-tracked-as-dependencies-" class="anchor"></a>Packages are not tracked as dependencies.</h2>
<p><code>Drake</code> may import functions from packages, but the packages themselves are not tracked as dependencies. For this, you will need other tools that support reproducibility beyond the scope of <code>drake</code>. <a href="https://rstudio.github.io/packrat">Packrat</a> creates a tightly-controlled local library of packages to extend the shelf life of your project. And with <a href="https://www.docker.com/">Docker</a>, you can execute your project on a <a href="https://en.wikipedia.org/wiki/Virtual_machine">virtual machine</a> to ensure platform independence. Together, <a href="https://rstudio.github.io/packrat">packrat</a> and <a href="https://www.docker.com/">Docker</a> can help others reproduce your work even if they have different software and hardware.</p>
</div>
</div>
<div id="high-performance-computing" class="section level1">
<h1 class="hasAnchor">
<a href="#high-performance-computing" class="anchor"></a>High-performance computing</h1>
<div id="the-practical-utility-of-parallel-computing" class="section level2">
<h2 class="hasAnchor">
<a href="#the-practical-utility-of-parallel-computing" class="anchor"></a>The practical utility of parallel computing</h2>
<p><code>Drake</code> claims that it can</p>
<ol style="list-style-type: decimal">
<li>Build and cache your targets in parallel (in stages).</li>
<li>Build and cache your targets in the correct order, finishing dependencies before starting targets that depend on them.</li>
<li>Deploy your targets to the parallel backend of your choice.</li>
</ol>
<p>However, the practical efficiency of the parallel computing functionality remains to be verified rigorously. Serious performance studies will be part of future work that has not yet been conducted at the time of writing. In addition, each project has its own best parallel computing set up, and the user needs to optimize it on a case-by-case basis. Some general considerations include the following.</p>
<ul>
<li>The high overhead and high scalability of distributed computing versus the low overhead and low scalability of local multicore computing.</li>
<li>The high memory usage of local multicore computing, especially <code>"mclapply"</code> parallelism, as opposed to distributed computing, which can spread the memory demands over the available nodes on a cluster.</li>
<li>The marginal gains of increasing the number of jobs indefinitely, especially in the case of local multicore computing if the number of cores is low.</li>
</ul>
</div>
<div id="maximum-number-of-simultaneous-jobs" class="section level2">
<h2 class="hasAnchor">
<a href="#maximum-number-of-simultaneous-jobs" class="anchor"></a>Maximum number of simultaneous jobs</h2>
<p>Be mindful of the maximum number of simultaneous parallel jobs you deploy. At best, too many jobs is poor etiquette on a system with many users and limited resources. At worst, too many jobs will crash a system. The <code>jobs</code> argument to <code><a href="../reference/make.html">make()</a></code> sets the maximum number of simultaneous jobs in most cases, but not all.</p>
<p>For most of <code>drake</code>’s parallel backends, <code>jobs</code> sets the maximum number of simultaneous parallel jobs. However, there are ways to break the pattern. For example, <code><a href="../reference/make.html">make(..., parallelism = "Makefile", jobs = 2, args = "--jobs=4")</a></code> uses at most 2 jobs for the imports and at most 4 jobs for the targets. (In <code><a href="../reference/make.html">make()</a></code>, <code>args</code> overrides <code>jobs</code> for the targets). For <code><a href="../reference/make.html">make(..., parallelism = "future_lapply")</a></code>, the <code>jobs</code> argument is ignored altogether. Instead, you should set the <code>workers</code> argument where it is available (for example, <code><a href="http://www.rdocumentation.org/packages/future/topics/plan">future::plan(mutlisession(workers = 2))</a></code> or <code><a href="http://www.rdocumentation.org/packages/future/topics/plan">future::plan(future.batchtools::batchtools_local(workers = 2))</a></code>) in the preparations before <code><a href="../reference/make.html">make()</a></code>. Alternatively, you might limit the max number of jobs by setting <code>options(mc.cores = 2)</code> before calling <code><a href="../reference/make.html">make()</a></code>. Depending on the <code>future</code> backend you select with <code><a href="http://www.rdocumentation.org/packages/future/topics/plan">future::plan()</a></code> or <code><a href="http://www.rdocumentation.org/packages/future/topics/plan">future::plan()</a></code>, you might make use of one of the other environment variables listed in <code><a href="http://www.rdocumentation.org/packages/future/topics/future.options">?future::future.options</a></code>.</p>
</div>
<div id="parallel-computing-on-windows" class="section level2">
<h2 class="hasAnchor">
<a href="#parallel-computing-on-windows" class="anchor"></a>Parallel computing on Windows</h2>
<p>On Windows, do not use <code><a href="../reference/make.html">make(..., parallelism = "mclapply", jobs = n)</a></code> with <code>n</code> greater than 1. You could try, but <code>jobs</code> will just be demoted to 1. Instead, please replace <code>"mclapply"</code> with one of the other <code><a href="../reference/parallelism_choices.html">parallelism_choices()</a></code> or let <code>drake</code> choose the <code>parallelism</code> backend for you. For <code><a href="../reference/make.html">make(..., parallelism = "Makefile")</a></code>, Windows users need to download and install <a href="https://cran.r-project.org/bin/windows/Rtools/"><code>Rtools</code></a>.</p>
</div>
<div id="configuring-futurebatchtools-parallelism-for-clusters" class="section level2">
<h2 class="hasAnchor">
<a href="#configuring-futurebatchtools-parallelism-for-clusters" class="anchor"></a>Configuring <a href="https://github.com/HenrikBengtsson/future">future</a>/<a href="https://github.com/mllg/batchtools">batchtools</a> parallelism for clusters</h2>
<p>The <code>"future_lapply"</code> backend unlocks a large array of distributed computing options on serious computing clusters. However, it is your responsibility to configure your workflow for your specific job scheduler. In particular, special <a href="https://github.com/mllg/batchtools">batchtools</a> <code>*.tmpl</code> configuration files are required, and the technique is described in the documentation of <a href="https://github.com/mllg/batchtools">batchtools</a>. You can find some examples of these files in the <code>inst/templates</code> folders of the <a href="https://github.com/mllg/batchtools/tree/master/inst/templates">batchtools</a> and <a href="https://github.com/HenrikBengtsson/future.batchtools/tree/master/inst/templates">future.batchtools</a> GitHub repositories. <code>Drake</code> has some <a href="https://github.com/ropensci/drake/tree/master/inst/examples">built-in prepackaged example workflows</a>. See <code><a href="../reference/drake_examples.html">drake_examples()</a></code> to view your options, and then <code><a href="../reference/drake_example.html">drake_example()</a></code> to write the files for an example.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/drake_example.html">drake_example</a></span>(<span class="st">"sge"</span>)    <span class="co"># Sun/Univa Grid Engine workflow and supporting files</span>
<span class="kw"><a href="../reference/drake_example.html">drake_example</a></span>(<span class="st">"slurm"</span>)  <span class="co"># SLURM</span>
<span class="kw"><a href="../reference/drake_example.html">drake_example</a></span>(<span class="st">"torque"</span>) <span class="co"># TORQUE</span></code></pre></div>
<p>To write just <code>*.tmpl</code> files from these examples, see the <code><a href="../reference/drake_batchtools_tmpl_file.html">drake_batchtools_tmpl_file()</a></code> function.</p>
<p>Unfortunately, there is no one-size-fits-all <code>*.tmpl</code> configuration file for any job scheduler, so we cannot guarantee that the above examples will work for you out of the box. To learn how to configure the files to suit your needs, you should make sure you understand your job scheduler and <a href="https://github.com/mllg/batchtools">batchtools</a>.</p>
</div>
<div id="proper-makefiles-are-not-standalone-" class="section level2">
<h2 class="hasAnchor">
<a href="#proper-makefiles-are-not-standalone-" class="anchor"></a>Proper Makefiles are not standalone.</h2>
<p>The <a href="http://kbroman.org/minimal_make/">Makefile</a> generated by <code><a href="../reference/make.html">make(myplan, parallelism = "Makefile")</a></code> is not standalone. Do not run it outside of <code><a href="http://www.rdocumentation.org/packages/drake/topics/make">drake::make()</a></code>. <code>Drake</code> uses dummy timestamp files to tell the <a href="http://kbroman.org/minimal_make/">Makefile</a> what to do, and running <code>make</code> in the <a href="https://www.howtogeek.com/140679/beginner-geek-how-to-start-using-the-linux-terminal/">terminal</a> will most likely give incorrect results.</p>
</div>
<div id="makefile-level-parallelism-for-imported-objects-and-files" class="section level2">
<h2 class="hasAnchor">
<a href="#makefile-level-parallelism-for-imported-objects-and-files" class="anchor"></a>Makefile-level parallelism for imported objects and files</h2>
<p>Makefile-level parallelism is only used for targets in your workflow plan data frame, not imports. To process imported objects and files, drake selects the best local parallel backend for your system and uses the <code>jobs</code> argument to <code><a href="../reference/make.html">make()</a></code>. To use at most 2 jobs for imports and at most 4 jobs for targets, run</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/make.html">make</a></span>(..., <span class="dt">parallelism =</span> <span class="st">"Makefile"</span>, <span class="dt">jobs =</span> <span class="dv">2</span>, <span class="dt">args =</span> <span class="st">"--jobs=4"</span>)</code></pre></div>
</div>
<div id="zombie-processes" class="section level2">
<h2 class="hasAnchor">
<a href="#zombie-processes" class="anchor"></a>Zombie processes</h2>
<p>Some parallel backends, particularly <code>mclapply</code> and <code><a href="http://www.rdocumentation.org/packages/future/topics/multicore">future::multicore</a></code>, may create zombie processes. Zombie children are not usually harmful, but you may wish to kill them yourself. The following function by <a href="https://github.com/CarlBoneri">Carl Boneri</a> should work on Unix-like systems. For a discussion, see <a href="https://github.com/ropensci/drake/issues/116">drake issue 116</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fork_kill_zombies &lt;-<span class="st"> </span>function(){
  <span class="kw">require</span>(inline)
  includes &lt;-<span class="st"> "#include &lt;sys/wait.h&gt;"</span>
  code &lt;-<span class="st"> "int wstat; while (waitpid(-1, &amp;wstat, WNOHANG) &gt; 0) {};"</span>

  wait &lt;-<span class="st"> </span>inline::<span class="kw">cfunction</span>(
    <span class="dt">body =</span> code,
    <span class="dt">includes =</span> includes,
    <span class="dt">convention =</span> <span class="st">".C"</span>
  )

  <span class="kw">invisible</span>(<span class="kw">wait</span>())
}</code></pre></div>
</div>
</div>
<div id="storage" class="section level1">
<h1 class="hasAnchor">
<a href="#storage" class="anchor"></a>Storage</h1>
<div id="projects-hosted-on-dropbox-and-similar-platforms" class="section level2">
<h2 class="hasAnchor">
<a href="#projects-hosted-on-dropbox-and-similar-platforms" class="anchor"></a>Projects hosted on Dropbox and similar platforms</h2>
<p>If download a <code>drake</code> project from <a href="https://www.dropbox.com/">Dropbox</a>, you may get an error like the one in <a href="https://github.com/ropensci/drake/issues/198">issue 198</a>:</p>
<pre><code>
cache pathto/.drake
connect 61 imports: ...
connect 200 targets: ...
Error in rawToChar(as.raw(x)) : 
  embedded nul in string: 'initial_drake_version\0\0\x9a\x9d\xdc\0J\xe9\0\0\0(\x9d\xf9brם\0\xca)\0\0\xb4\xd7\0\0\0\0\xb9'
In addition: Warning message:
In rawToChar(as.raw(x)) :
  out-of-range values treated as 0 in coercion to raw
</code></pre>
<p>This is probably because <a href="https://www.dropbox.com/">Dropbox</a> generates a bunch of “conflicted copy” files when file transfers do not go smoothly. This confuses <a href="https://github.com/richfitz/storr">storr</a>, <code>drake</code>’s caching backend.</p>
<pre><code>
keys/config/aG9vaw (Sandy Sum's conflicted copy 2018-01-31)
keys/config/am9icw (Sandy Sum's conflicted copy 2018-01-31)
keys/config/c2VlZA (Sandy Sum's conflicted copy 2018-01-31)
</code></pre>
<p>Just remove these files and proceed with your work.</p>
</div>
<div id="cache-customization-is-limited" class="section level2">
<h2 class="hasAnchor">
<a href="#cache-customization-is-limited" class="anchor"></a>Cache customization is limited</h2>
<p>The <a href="https://github.com/ropensci/drake/blob/master/vignettes/storage.Rmd">storage vignette</a> describes how storage works in <code>drake</code>. As explained near the end of that vignette, you can plug custom <a href="https://github.com/richfitz/storr">storr</a> caches into <code><a href="../reference/make.html">make()</a></code>. However, non-RDS caches such as <code>storr_dbi()</code> may not work with most forms of parallel computing. The <code><a href="http://www.rdocumentation.org/packages/storr/topics/storr_dbi">storr::storr_dbi()</a></code> cache and many others are not threadsafe. Either use no parallel computing at all or set <code>parallelism = "future"</code> with <code>caching = "master"</code>. The <code>"future"</code> backend is currently experimental, but it allows the master process to do all the caching in order to avoid race conditions.</p>
</div>
<div id="runtime-predictions" class="section level2">
<h2 class="hasAnchor">
<a href="#runtime-predictions" class="anchor"></a>Runtime predictions</h2>
<p>In <code><a href="../reference/predict_runtime.html">predict_runtime()</a></code> and <code><a href="../reference/rate_limiting_times.html">rate_limiting_times()</a></code>, <code>drake</code> only accounts for the targets with logged build times. If some targets have not been timed, <code>drake</code> throws a warning and prints the untimed targets.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#projects-built-with-drake-4-4-0-are-not-back-compatible-with-drake-4-4-0-">Projects built with drake &lt;= 4.4.0 are not back compatible with drake &gt; 4.4.0.</a></li>
      <li>
<a href="#workflow-plans">Workflow plans</a><ul class="nav nav-pills nav-stacked">
<li><a href="#externalizing-commands-in-r-script-files">Externalizing commands in R script files</a></li>
      <li><a href="#commands-are-not-perfectly-flexible-">Commands are NOT perfectly flexible.</a></li>
      </ul>
</li>
      <li>
<a href="#execution">Execution</a><ul class="nav nav-pills nav-stacked">
<li><a href="#install-drake-properly-">Install <code>drake</code> properly.</a></li>
      <li><a href="#install-all-your-packages-">Install all your packages.</a></li>
      <li><a href="#a-note-on-tidy-evaluation">A note on tidy evaluation</a></li>
      <li><a href="#find-and-diagnose-your-errors-">Find and diagnose your errors.</a></li>
      <li><a href="#your-workspace-is-modified-by-default-">Your workspace is modified by default.</a></li>
      <li><a href="#refresh-the-drake_config-list-early-and-often-">Refresh the <code><a href="--/reference/drake_config-html">drake_config()</a></code> list early and often.</a></li>
      <li><a href="#workflows-as-r-packages-">Workflows as R packages.</a></li>
      <li><a href="#the-lazy_load-flag-does-not-work-with-parlapply-parallelism-">The <code>lazy_load</code> flag does not work with <code>"parLapply"</code> parallelism.</a></li>
      <li><a href="#timeouts-may-be-unreliable-">Timeouts may be unreliable.</a></li>
      </ul>
</li>
      <li>
<a href="#dependencies">Dependencies</a><ul class="nav nav-pills nav-stacked">
<li><a href="#triggers-and-skipped-imports">Triggers and skipped imports</a></li>
      <li><a href="#dependencies-are-not-tracked-in-some-edge-cases-">Dependencies are not tracked in some edge cases.</a></li>
      <li><a href="#dependencies-of-knitr-reports">Dependencies of <code>knitr</code> reports</a></li>
      <li><a href="#knitr-inputs-and-file-outputs-in-imported-functions-">Knitr inputs and file outputs in imported functions.</a></li>
      <li><a href="#functions-produced-by-vectorize">Functions produced by <code>Vectorize()</code></a></li>
      <li><a href="#compiled-code-is-not-reproducibly-tracked-">Compiled code is not reproducibly tracked.</a></li>
      <li><a href="#directories-folders-are-not-reproducibly-tracked-">Directories (folders) are not reproducibly tracked.</a></li>
      <li><a href="#packages-are-not-tracked-as-dependencies-">Packages are not tracked as dependencies.</a></li>
      </ul>
</li>
      <li>
<a href="#high-performance-computing">High-performance computing</a><ul class="nav nav-pills nav-stacked">
<li><a href="#the-practical-utility-of-parallel-computing">The practical utility of parallel computing</a></li>
      <li><a href="#maximum-number-of-simultaneous-jobs">Maximum number of simultaneous jobs</a></li>
      <li><a href="#parallel-computing-on-windows">Parallel computing on Windows</a></li>
      <li>
<a href="#configuring-futurebatchtools-parallelism-for-clusters">Configuring </a><a href="https://github-com/HenrikBengtsson/future">future</a>/<a href="https://github-com/mllg/batchtools">batchtools</a> parallelism for clusters</li>
      <li><a href="#proper-makefiles-are-not-standalone-">Proper Makefiles are not standalone.</a></li>
      <li><a href="#makefile-level-parallelism-for-imported-objects-and-files">Makefile-level parallelism for imported objects and files</a></li>
      <li><a href="#zombie-processes">Zombie processes</a></li>
      </ul>
</li>
      <li>
<a href="#storage">Storage</a><ul class="nav nav-pills nav-stacked">
<li><a href="#projects-hosted-on-dropbox-and-similar-platforms">Projects hosted on Dropbox and similar platforms</a></li>
      <li><a href="#cache-customization-is-limited">Cache customization is limited</a></li>
      <li><a href="#runtime-predictions">Runtime predictions</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by William Michael Landau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
